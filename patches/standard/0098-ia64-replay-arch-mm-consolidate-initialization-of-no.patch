From df2a0d0f8582910f878479b6cb44619973d9a292 Mon Sep 17 00:00:00 2001
From: Johnny Mnemonic <jm@machine-hall.org>
Date: Fri, 13 Feb 2026 14:04:28 +0100
Subject: [PATCH 098/101] ia64: replay "arch, mm: consolidate initialization of
 nodes, zones [...]"

See d49004c5f0c140bb83c87fab46dcf449cf00eb24.
---
 arch/ia64/mm/contig.c    | 7 +------
 arch/ia64/mm/discontig.c | 6 ------
 2 files changed, 1 insertion(+), 12 deletions(-)

diff --git a/arch/ia64/mm/contig.c b/arch/ia64/mm/contig.c
index 67fb7dddbc6d..9a2f33fc843e 100644
--- a/arch/ia64/mm/contig.c
+++ b/arch/ia64/mm/contig.c
@@ -198,16 +198,11 @@ void __init arch_zone_limits_init(unsigned long *max_zone_pfns)
 }
 
 /*
- * Set up the page tables.
+ * Initialize the kernel's zero page.
  */
 
 void __init
 paging_init (void)
 {
-	unsigned long max_zone_pfns[MAX_NR_ZONES];
-
-	memset(max_zone_pfns, 0, sizeof(max_zone_pfns));
-	arch_zone_limits_init(max_zone_pfns);
-	free_area_init(max_zone_pfns);
 	zero_page_memmap_ptr = virt_to_page(ia64_imva(empty_zero_page));
 }
diff --git a/arch/ia64/mm/discontig.c b/arch/ia64/mm/discontig.c
index b8683f5d8034..2a3a95384a6c 100644
--- a/arch/ia64/mm/discontig.c
+++ b/arch/ia64/mm/discontig.c
@@ -602,14 +602,8 @@ void __init arch_zone_limits_init(unsigned long *max_zone_pfns)
  */
 void __init paging_init(void)
 {
-	unsigned long max_zone_pfns[MAX_NR_ZONES];
-
 	sparse_init();
 
-	memset(max_zone_pfns, 0, sizeof(max_zone_pfns));
-	arch_zone_limits_init(max_zone_pfns);
-	free_area_init(max_zone_pfns);
-
 	zero_page_memmap_ptr = virt_to_page(ia64_imva(empty_zero_page));
 }
 
-- 
2.25.1

